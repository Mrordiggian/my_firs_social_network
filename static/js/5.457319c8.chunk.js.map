{"version":3,"sources":["assets/images/user.png","HOC/WithAuthRedirect.js","components/Message/Message.module.css","components/Message/Message.js","components/Message/MessageContainer.js"],"names":["module","exports","withAuthRedirect","Component","connect","state","isAuthData","auth","props","to","Message","DialogsNames","dialogs","map","d","key","id","name","ava","DialogsMessages","messages","m","message","send","className","dialogsName","dialogsMessage","dialogsMessage_item","messageForm","ReduxMessageForm","onSubmit","dataForm","sendMessage","newMessage","DialogMessage","right","DialogItem","item","photo","style","background","photoUser","activeClassName","active","maxLength100","maxLengthCreator","reduxForm","form","handleSubmit","Field","validate","required","placeholder","cols","rows","component","Textarea","MessageContainer","compose","MessagePage","newtextMessage"],"mappings":"+FAAAA,EAAOC,QAAU,IAA0B,kC,iCCA3C,sEAKaC,GALb,MAKgC,SAACC,GAS7B,OAAOC,aAJe,SAACC,GACnB,MAAO,CAACC,WAAYD,EAAME,KAAKD,cAG5BF,EARc,SAACI,GAClB,OAAKA,EAAMF,WACJ,kBAACH,EAAcK,GADQ,kBAAC,IAAD,CAAUC,GAAI,iB,oBCNpDT,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,eAAiB,gCAAgC,oBAAsB,qCAAqC,YAAc,6BAA6B,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,OAAS,wBAAwB,MAAQ,yB,mJC8BhXS,EArBC,SAACF,GACb,IAAIG,EAAeH,EAAMH,MAAMO,QAAQC,KAAI,SAAAC,GAAC,OAAG,kBAAC,EAAD,CAAYC,IAAKD,EAAEE,GAAIA,GAAIF,EAAEE,GAAIC,KAAMH,EAAEG,KAAMC,IAAKJ,EAAEI,SACjGC,EAAkBX,EAAMH,MAAMe,SAASP,KAAI,SAAAQ,GAAC,OAAI,kBAAC,EAAD,CAAeN,IAAKM,EAAEL,GAAIM,QAASD,EAAEC,QAASC,KAAMF,EAAEE,UAM1G,OACI,yBAAKC,UAAWH,IAAET,SACf,yBAAKY,UAAWH,IAAEI,aACbd,GAEJ,yBAAKa,UAAWH,IAAEK,gBACd,yBAAKF,UAAWH,IAAEM,qBAAsBR,IAG5C,yBAAKK,UAAWH,IAAEO,aAAa,kBAACC,EAAD,CAAkBC,SAb1C,SAACC,GACZvB,EAAMwB,YAAYD,EAASE,kBAmB7BC,EAAgB,SAAC1B,GACnB,MAAiB,WAAdA,EAAMe,KAA0B,yBAAKC,UAAWH,IAAEC,SAAS,8BAAOd,EAAMc,UAC1D,QAAdd,EAAMe,KAAsB,yBAAKC,UAAS,UAAKH,IAAEC,QAAP,cAAoBD,IAAEc,QAAS,8BAAO3B,EAAMc,eAAzF,GAGEc,EAAa,SAAC5B,GAChB,OACI,yBAAKgB,UAAWH,IAAEgB,MACd,yBAAKb,UAAWH,IAAEiB,MAAOC,MAAO,CAACC,WAAW,OAAD,OAAShC,EAAMU,KAAOuB,IAAtB,iCAC3C,kBAAC,IAAD,CAAShC,GAAI,YAAcD,EAAMQ,GAAI0B,gBAAiBrB,IAAEsB,QAASnC,EAAMS,QAS/E2B,EAAeC,YAAiB,KAU9BhB,EAAmBiB,YAAU,CAACC,KAAM,WAAjBD,EATL,SAACtC,GACjB,OAAO,0BAAMsB,SAAUtB,EAAMwC,cACzB,kBAACC,EAAA,EAAD,CAAQC,SAAU,CAACC,IAAUP,GAAe3B,KAAM,aAAcmC,YAAY,wBAAwBC,KAAK,KAAKC,KAAK,IAAIC,UAAWC,MAClI,6BACI,qD,wBC1CNC,EAAmBC,YACrBtD,aARkB,SAACC,GACnB,MAAO,CACHA,MAAOA,EAAMsD,YACbC,eAAgBvD,EAAMsD,YAAYC,kBAKb,CAAC5B,kBAC1B9B,IAFqBwD,CAGvBhD,GAEa+C","file":"static/js/5.457319c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.36daa457.png\";","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const newComponent = (props) => {\r\n        if (!props.isAuthData) return <Redirect to={'/login'}/>\r\n        return <Component {...props}/>\r\n    }\r\n    let mapStateToProps = (state) => {\r\n        return {isAuthData: state.auth.isAuthData}\r\n    }\r\n\r\n    return connect(mapStateToProps) (newComponent)\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__2OqUn\",\"dialogsName\":\"Message_dialogsName__pK0gd\",\"dialogsMessage\":\"Message_dialogsMessage__TsjrE\",\"dialogsMessage_item\":\"Message_dialogsMessage_item__2o_V0\",\"messageForm\":\"Message_messageForm__1kip-\",\"message\":\"Message_message__1SKSP\",\"right\":\"Message_right__2LpkG\",\"item\":\"Message_item__2Va_Z\",\"active\":\"Message_active__2RNSp\",\"photo\":\"Message_photo__ZFwtE\"};","import React from 'react';\r\nimport m from './Message.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControl/FormsControl\";\r\nimport {maxLengthCreator, required} from \"../../utilits/Validators/Validators\";\r\nimport photoUser from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Message = (props) => {\r\n    let DialogsNames = props.state.dialogs.map(d =><DialogItem key={d.id} id={d.id} name={d.name} ava={d.ava}/>)\r\n    let DialogsMessages = props.state.messages.map(m => <DialogMessage key={m.id} message={m.message} send={m.send}/>)\r\n\r\n    let onSubmit = (dataForm) => {\r\n        props.sendMessage(dataForm.newMessage)\r\n    }\r\n\r\n    return (\r\n        <div className={m.dialogs}>\r\n           <div className={m.dialogsName}>\r\n               {DialogsNames}\r\n           </div>\r\n            <div className={m.dialogsMessage}>\r\n                <div className={m.dialogsMessage_item}>{DialogsMessages}</div>\r\n\r\n            </div>\r\n            <div className={m.messageForm}><ReduxMessageForm onSubmit={onSubmit}/></div>\r\n        </div>\r\n    )\r\n}\r\nexport default Message\r\n\r\n\r\nconst DialogMessage = (props) => {\r\n    if(props.send == 'receive') return <div className={m.message}><span>{props.message}</span></div>\r\n    if(props.send == 'send')return <div className={`${m.message} + ${m.right}`}><span>{props.message}</span></div>\r\n}\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={m.item}>\r\n            <div className={m.photo} style={{background: `url(${props.ava || photoUser}) 50% 50% no-repeat /cover`}}/>\r\n            <NavLink to={'/message/' + props.id} activeClassName={m.active}>{props.name}</NavLink>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\nconst MessageForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <Field  validate={[required, maxLength100]} name={'newMessage'} placeholder='Enter your message...' cols=\"30\" rows=\"3\" component={Textarea} />\r\n        <div>\r\n            <button>Send message</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxMessageForm = reduxForm({form: 'message'})(MessageForm)","import React from 'react';\r\nimport m from './Message.module.css'\r\nimport {sendMessage} from \"../../Redux/reducerMessage\";\r\nimport Message from \"./Message\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        state: state.MessagePage,\r\n        newtextMessage: state.MessagePage.newtextMessage\r\n    }\r\n}\r\n\r\nconst MessageContainer = compose(\r\n    connect(mapStateToProps, {sendMessage}),\r\n    withAuthRedirect\r\n)(Message)\r\n\r\nexport default MessageContainer"],"sourceRoot":""}