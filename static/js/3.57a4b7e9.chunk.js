(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,a){e.exports=a.p+"static/media/user.36daa457.png"},297:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),r=a(14),l=a(30),c=function(e){return Object(r.b)((function(e){return{isAuthData:e.auth.isAuthData}}))((function(t){return t.isAuthData?o.a.createElement(e,t):o.a.createElement(l.a,{to:"/login"})}))}},298:function(e,t,a){e.exports={wapper:"MyPost_wapper__KhOUe",postForm:"MyPost_postForm__3QL-Q",newPost:"MyPost_newPost__KsTMw"}},299:function(e,t,a){e.exports={post:"Post_post__1mla9",header:"Post_header__35SvX",body:"Post_body__3ikh7",name:"Post_name__1kx6U",bottom:"Post_bottom__20ozi"}},300:function(e,t,a){e.exports={info:"ProfileInfo_info__3TQ08",photo:"ProfileInfo_photo__vu84q",about_element:"ProfileInfo_about_element__RwM7S",ava:"ProfileInfo_ava__UQWQ7",status:"ProfileInfo_status__2HdzN",about:"ProfileInfo_about__gdq7h",faEdit:"ProfileInfo_faEdit__2RgFI",saveForm:"ProfileInfo_saveForm__1qfrN",pointer:"ProfileInfo_pointer__2dFY6",dataInfo:"ProfileInfo_dataInfo__3DeV2",status_item:"ProfileInfo_status_item__FW2x2"}},303:function(e,t,a){"use strict";a.r(t);var n=a(52),o=a(0),r=a.n(o),l=a(14),c=a(5),i=a.n(c),u=a(9);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,o=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(i){o=!0,r=i}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=a(99),f=a(298),d=a.n(f),p=a(299),E=a.n(p),b=a(24),v=a(51),_=a(296),P=a.n(_),g=function(e){var t=e.photo,a=e.fullName,n=e.body,o=e.likeCounts,l=e.deletePost,c=e.id;return r.a.createElement("div",{className:E.a.post+" block"},r.a.createElement("div",{className:E.a.header},r.a.createElement("img",{src:t||P.a,alt:"ava"}),r.a.createElement("div",{className:E.a.name},a," ",r.a.createElement("button",{onClick:function(){return l(c)}},r.a.createElement(v.a,{icon:b.i,size:"lg"})))),r.a.createElement("div",{className:E.a.body},n),r.a.createElement("div",{className:E.a.bottom},r.a.createElement("span",null,r.a.createElement(v.a,{icon:b.e,size:"lg"})," ",o)))},h=a(133),y=a(134),N=a(44),j=a(42),w=r.a.memo((function(e){var t=e.posts,a=e.photo,n=e.fullName,l=e.addPost,c=e.deletePost,i=s(Object(o.useState)(!1),2),u=i[0],m=i[1],f=t.map((function(e){return r.a.createElement(g,{key:e.id,id:e.id,body:e.body,likeCounts:e.likecounts,photo:a,fullName:n,deletePost:c})}));return r.a.createElement("div",null,r.a.createElement("div",{className:d.a.postForm+" block"},!u&&r.a.createElement(k,{setEditMode:m}),u&&r.a.createElement(S,{setEditMode:m,onSubmit:function(e){l(e.newPost),m(!1)}})),f)})),k=function(e){var t=e.setEditMode;return r.a.createElement("div",{onClick:function(){t(!0)},className:d.a.newPost},r.a.createElement("span",null,"What`s new?"))},O=Object(N.a)(100),S=Object(y.a)({form:"addNewPost"})((function(e){var t=e.handleSubmit,a=e.setEditMode;return r.a.createElement("form",{onSubmit:t},r.a.createElement(h.a,{autoFocus:!0,name:"newPost",validate:[N.b,O],placeholder:"Enter your message...",component:j.b}),r.a.createElement("div",null,r.a.createElement("button",null,"Post"),r.a.createElement("button",{onClick:function(){return a(!1)}},"Cancel")))})),I=function(e){return e.ProfilePage.profileInfo},F=function(e){return e.ProfilePage.posts},M=function(e){return e.ProfilePage.status},A=function(e){return e.ProfilePage.isOwner},x=function(e){return e.ProfilePage.profileInfo.photos.small},C=function(e){return e.ProfilePage.profileInfo.fullName},D=Object(l.b)((function(e){return{posts:F(e),photo:x(e),fullName:C(e),isOwner:A(e)}}),{addPost:m.a,deletePost:m.d,getPosts:m.e,cleanPostState:m.b})((function(e){var t=e.getPosts,a=e.isOwner,l=e.cleanPostState,c=Object(n.a)(e,["getPosts","isOwner","cleanPostState"]),m=s(Object(o.useState)(1),2),f=m[0],d=m[1],p=s(Object(o.useState)(!1),2),E=p[0],b=p[1];return Object(o.useEffect)((function(){l()}),[l]),Object(o.useEffect)((function(){window.scrollTo(0,0),a&&function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,t(f);case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[f,t,a]),Object(o.useEffect)((function(){var e=function(){var e=document.documentElement.getBoundingClientRect().bottom;!E&&e<document.documentElement.clientHeight+100&&f<=10&&d(f++)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}})),r.a.createElement(w,c)})),z=a(300),J=a.n(z),L=function(e){var t=s(Object(o.useState)(!1),2),a=t[0],n=t[1],l=s(Object(o.useState)(e.status),2),c=l[0],i=l[1];return Object(o.useEffect)((function(){i(e.status)}),[e.status]),r.a.createElement("div",null,!a&&r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){n(!0)}},e.status||"Set status")),a&&r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateProfileStatus(c)},value:c,onChange:function(e){i(e.currentTarget.value)}})))},Q=a(111),T=a.n(Q),U=function(e){var t=e.profileInfo,a=e.isOwner,n=e.status,l=e.updateProfileStatus,c=e.updateProfileData,i=e.saveMainPhoto,u=s(Object(o.useState)(!1),2),m=u[0],f=u[1];return r.a.createElement("div",{className:J.a.info},r.a.createElement("div",{className:J.a.ava+" block"},r.a.createElement("div",{className:J.a.photo,style:{background:"url(".concat(t.photos.large||P.a,") 50% 50% no-repeat /cover")}}),a&&r.a.createElement("label",{className:T.a.labelFile},r.a.createElement("input",{className:T.a.inputFile,type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])},accept:".jpg, .jpeg, .png"}),"Upload photo")),r.a.createElement("div",{className:J.a.dataInfo+" block"},r.a.createElement("h3",null,t.fullName),r.a.createElement("div",{className:J.a.status},a&&r.a.createElement(L,{status:n,updateProfileStatus:l}),!a&&r.a.createElement("div",{className:J.a.status_item},n)),a&&!m&&r.a.createElement("div",{className:J.a.faEdit,onClick:function(){f(!0)}},r.a.createElement(v.a,{className:J.a.pointer,icon:b.d,size:"lg"})),!m&&r.a.createElement(R,{profileInfo:t}),m&&r.a.createElement(W,{setEditMode:f,initialValues:t,onSubmit:function(e){c(e).then((function(){f(!1)}))},profileInfo:t})))},q=function(e){var t=e.title,a=e.value;return r.a.createElement("div",{className:J.a.about_element},r.a.createElement("b",null,t,": "),r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},a," "))},R=function(e){var t=e.profileInfo;return r.a.createElement("div",{className:J.a.about},r.a.createElement("div",{className:J.a.about_element},r.a.createElement("b",null,"About me: "),r.a.createElement("span",null,t.aboutMe)),r.a.createElement("div",{className:J.a.about_element},r.a.createElement("b",null,"Looking for a job: "),r.a.createElement("span",null,t.lookingForAJob?"yes":"no")),t.lookingForAJob&&r.a.createElement("div",{className:J.a.about_element},r.a.createElement("b",null,"Description a job: "),r.a.createElement("span",null,t.lookingForAJobDescription)),r.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return t.contacts[e]&&r.a.createElement(q,{key:e,title:e,value:t.contacts[e]})}))))},W=Object(y.a)({form:"profileData"})((function(e){var t=e.profileInfo,a=e.handleSubmit,n=e.setEditMode,o=e.error,l=function(e){return"true"===e||"false"!==e&&e};return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:J.a.saveForm},r.a.createElement("button",{className:J.a.pointer},"Save"),r.a.createElement(v.a,{className:J.a.pointer,onClick:function(){return n(!1)},icon:b.i,size:"lg"})),o&&r.a.createElement("div",{className:T.a.error},"  ",o," "),r.a.createElement(h.a,{validate:[],name:"fullName",type:"text",component:j.a}),r.a.createElement("div",null,r.a.createElement("b",null,"About me: ")),r.a.createElement(h.a,{validate:[],name:"aboutMe",type:"text",component:j.b}),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job: ")),r.a.createElement("label",null,r.a.createElement(h.a,{name:"lookingForAJob",type:"radio",value:!0,normalize:l,component:"input"}),"Yes"),r.a.createElement("label",null,r.a.createElement(h.a,{name:"lookingForAJob",type:"radio",value:!1,normalize:l,component:"input"}),"No"),r.a.createElement("div",null,r.a.createElement("b",null,"Description a job: ")),r.a.createElement(h.a,{validate:[],name:"lookingForAJobDescription",type:"text",component:j.b}),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts: "),Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{key:e},e,r.a.createElement(h.a,{validate:[],name:"contacts."+e,type:"text",component:j.a}))}))))})),B=a(61),H=function(e){return e.profileInfo?r.a.createElement("div",null,r.a.createElement(U,e),r.a.createElement(D,null)):r.a.createElement(B.a,null)},K=a(30),V=a(297),Y=a(8),X=a(66);t.default=Object(Y.d)(Object(l.b)((function(e){return{profileInfo:I(e),id:Object(X.a)(e),status:M(e),isOwner:A(e)}}),{getProfile:m.f,getProfileStatus:m.g,updateProfileStatus:m.j,updateProfileData:m.i,saveMainPhoto:m.h}),K.g,V.a)((function(e){var t=e.match,a=e.id,l=e.getProfile,c=e.getProfileStatus,i=Object(n.a)(e,["match","id","getProfile","getProfileStatus"]);return Object(o.useEffect)((function(){l(t.params.userID||a),c(t.params.userID||a)}),[t,a,l,c]),r.a.createElement(H,i)}))}}]);
//# sourceMappingURL=3.57a4b7e9.chunk.js.map