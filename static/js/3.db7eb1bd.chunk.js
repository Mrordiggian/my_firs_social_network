(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,a){e.exports=a.p+"static/media/user.36daa457.png"},297:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),l=a(14),r=a(30),c=function(e){return Object(l.b)((function(e){return{isAuthData:e.auth.isAuthData}}))((function(t){return t.isAuthData?o.a.createElement(e,t):o.a.createElement(r.a,{to:"/login"})}))}},298:function(e,t,a){e.exports={wapper:"MyPost_wapper__KhOUe",postForm:"MyPost_postForm__3QL-Q",newPost:"MyPost_newPost__KsTMw"}},299:function(e,t,a){e.exports={post:"Post_post__1mla9",header:"Post_header__35SvX",body:"Post_body__3ikh7",name:"Post_name__1kx6U",bottom:"Post_bottom__20ozi"}},300:function(e,t,a){e.exports={info:"ProfileInfo_info__3TQ08",photo:"ProfileInfo_photo__vu84q",about_element:"ProfileInfo_about_element__RwM7S",ava:"ProfileInfo_ava__UQWQ7",status:"ProfileInfo_status__2HdzN",about:"ProfileInfo_about__gdq7h",faEdit:"ProfileInfo_faEdit__2RgFI",saveForm:"ProfileInfo_saveForm__1qfrN",pointer:"ProfileInfo_pointer__2dFY6",dataInfo:"ProfileInfo_dataInfo__3DeV2",status_item:"ProfileInfo_status_item__FW2x2"}},303:function(e,t,a){"use strict";a.r(t);var n=a(53),o=a(0),l=a.n(o),r=a(14),c=a(5),i=a.n(c),u=a(9),s=a(23);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(i){o=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(o)throw l}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=a(99),d=a(298),p=a.n(d),E=a(299),b=a.n(E),v=a(24),P=a(52),_=a(296),g=a.n(_),h=function(e){var t=e.photo,a=e.fullName,n=e.body,o=e.likeCounts,r=e.deletePost,c=e.id;return l.a.createElement("div",{className:b.a.post+" block"},l.a.createElement("div",{className:b.a.header},l.a.createElement("img",{src:t||g.a,alt:"ava"}),l.a.createElement("div",{className:b.a.name},a," ",l.a.createElement("button",{onClick:function(){return r(c)}},l.a.createElement(P.a,{icon:v.i,size:"lg"})))),l.a.createElement("div",{className:b.a.body},n),l.a.createElement("div",{className:b.a.bottom},l.a.createElement("span",null,l.a.createElement(P.a,{icon:v.e,size:"lg"})," ",o)))},j=a(133),w=a(134),N=a(44),O=a(42),y=l.a.memo((function(e){var t=e.localPosts,a=e.photo,n=e.fullName,r=e.addPost,c=e.deletePost,i=m(Object(o.useState)(!1),2),u=i[0],s=i[1],f=t.map((function(e){return l.a.createElement(h,{key:e.id,id:e.id,body:e.body,likeCounts:e.likecounts,photo:a,fullName:n,deletePost:c})}));return l.a.createElement("div",null,l.a.createElement("div",{className:p.a.postForm+" block"},!u&&l.a.createElement(k,{setEditMode:s}),u&&l.a.createElement(I,{setEditMode:s,onSubmit:function(e){r(e.newPost),s(!1)}})),f)})),k=function(e){var t=e.setEditMode;return l.a.createElement("div",{onClick:function(){t(!0)},className:p.a.newPost},l.a.createElement("span",null,"What`s new?"))},S=Object(N.a)(100),I=Object(w.a)({form:"addNewPost"})((function(e){var t=e.handleSubmit,a=e.setEditMode;return l.a.createElement("form",{onSubmit:t},l.a.createElement(j.a,{autoFocus:!0,name:"newPost",validate:[N.b,S],placeholder:"Enter your message...",component:O.b}),l.a.createElement("div",null,l.a.createElement("button",null,"Post"),l.a.createElement("button",{onClick:function(){return a(!1)}},"Cancel")))})),F=function(e){return e.ProfilePage.profileInfo},M=function(e){return e.ProfilePage.posts},A=function(e){return e.ProfilePage.status},x=function(e){return e.ProfilePage.isOwner},C=function(e){return e.ProfilePage.profileInfo.photos.small},D=function(e){return e.ProfilePage.profileInfo.fullName},z=a(51),J=Object(r.b)((function(e){return{newPost:e.ProfilePage.newPost,posts:M(e),photo:C(e),fullName:D(e),isOwner:x(e)}}),{addPost:f.a,deletePost:f.e,getPosts:f.f,cleanPostState:f.c,cleanNewPost:f.b})((function(e){var t=e.getPosts,a=e.isOwner,r=e.cleanPostState,c=e.cleanNewPost,f=e.posts,d=e.newPost,p=Object(n.a)(e,["getPosts","isOwner","cleanPostState","cleanNewPost","posts","newPost"]),E=m(Object(o.useState)(1),2),b=E[0],v=E[1],P=m(Object(o.useState)([]),2),_=P[0],g=P[1],h=m(Object(o.useState)(!1),2),j=h[0],w=h[1];return Object(o.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(o.useEffect)((function(){g([].concat(Object(s.a)(_),Object(s.a)(f)))}),[f]),Object(o.useEffect)((function(){d&&g([d].concat(Object(s.a)(_))),c()}),[d,c]),Object(o.useEffect)((function(){a&&function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,t(b);case 3:w(!1),r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b,t,r,a]),Object(o.useEffect)((function(){var e=function(){var e=document.documentElement.getBoundingClientRect().bottom;!j&&e<document.documentElement.clientHeight+100&&b<=10&&v(b++)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}})),l.a.createElement("div",null,l.a.createElement(y,Object.assign({localPosts:_},p)),j&&l.a.createElement(z.a,null))})),L=a(300),Q=a.n(L),T=function(e){var t=m(Object(o.useState)(!1),2),a=t[0],n=t[1],r=m(Object(o.useState)(e.status),2),c=r[0],i=r[1];return Object(o.useEffect)((function(){i(e.status)}),[e.status]),l.a.createElement("div",null,!a&&l.a.createElement("div",null,l.a.createElement("span",{onClick:function(){n(!0)}},e.status||"Set status")),a&&l.a.createElement("div",null,l.a.createElement("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateProfileStatus(c)},value:c,onChange:function(e){i(e.currentTarget.value)}})))},U=a(111),q=a.n(U),R=function(e){var t=e.profileInfo,a=e.isOwner,n=e.status,r=e.updateProfileStatus,c=e.updateProfileData,i=e.saveMainPhoto,u=m(Object(o.useState)(!1),2),s=u[0],f=u[1];return l.a.createElement("div",{className:Q.a.info},l.a.createElement("div",{className:Q.a.ava+" block"},l.a.createElement("div",{className:Q.a.photo,style:{background:"url(".concat(t.photos.large||g.a,") 50% 50% no-repeat /cover")}}),a&&l.a.createElement("label",{className:q.a.labelFile},l.a.createElement("input",{className:q.a.inputFile,type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])},accept:".jpg, .jpeg, .png"}),"Upload photo")),l.a.createElement("div",{className:Q.a.dataInfo+" block"},l.a.createElement("h3",null,t.fullName),l.a.createElement("div",{className:Q.a.status},a&&l.a.createElement(T,{status:n,updateProfileStatus:r}),!a&&l.a.createElement("div",{className:Q.a.status_item},n)),a&&!s&&l.a.createElement("div",{className:Q.a.faEdit,onClick:function(){f(!0)}},l.a.createElement(P.a,{className:Q.a.pointer,icon:v.d,size:"lg"})),!s&&l.a.createElement(B,{profileInfo:t}),s&&l.a.createElement(H,{setEditMode:f,initialValues:t,onSubmit:function(e){c(e).then((function(){f(!1)}))},profileInfo:t})))},W=function(e){var t=e.title,a=e.value;return l.a.createElement("div",{className:Q.a.about_element},l.a.createElement("b",null,t,": "),l.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},a," "))},B=function(e){var t=e.profileInfo;return l.a.createElement("div",{className:Q.a.about},l.a.createElement("div",{className:Q.a.about_element},l.a.createElement("b",null,"About me: "),l.a.createElement("span",null,t.aboutMe)),l.a.createElement("div",{className:Q.a.about_element},l.a.createElement("b",null,"Looking for a job: "),l.a.createElement("span",null,t.lookingForAJob?"yes":"no")),t.lookingForAJob&&l.a.createElement("div",{className:Q.a.about_element},l.a.createElement("b",null,"Description a job: "),l.a.createElement("span",null,t.lookingForAJobDescription)),l.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return t.contacts[e]&&l.a.createElement(W,{key:e,title:e,value:t.contacts[e]})}))))},H=Object(w.a)({form:"profileData"})((function(e){var t=e.profileInfo,a=e.handleSubmit,n=e.setEditMode,o=e.error,r=function(e){return"true"===e||"false"!==e&&e};return l.a.createElement("form",{onSubmit:a},l.a.createElement("div",{className:Q.a.saveForm},l.a.createElement("button",{className:Q.a.pointer},"Save"),l.a.createElement(P.a,{className:Q.a.pointer,onClick:function(){return n(!1)},icon:v.i,size:"lg"})),o&&l.a.createElement("div",{className:q.a.error},"  ",o," "),l.a.createElement(j.a,{validate:[],name:"fullName",type:"text",component:O.a}),l.a.createElement("div",null,l.a.createElement("b",null,"About me: ")),l.a.createElement(j.a,{validate:[],name:"aboutMe",type:"text",component:O.b}),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job: ")),l.a.createElement("label",null,l.a.createElement(j.a,{name:"lookingForAJob",type:"radio",value:!0,normalize:r,component:"input"}),"Yes"),l.a.createElement("label",null,l.a.createElement(j.a,{name:"lookingForAJob",type:"radio",value:!1,normalize:r,component:"input"}),"No"),l.a.createElement("div",null,l.a.createElement("b",null,"Description a job: ")),l.a.createElement(j.a,{validate:[],name:"lookingForAJobDescription",type:"text",component:O.b}),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts: "),Object.keys(t.contacts).map((function(e){return l.a.createElement("div",{key:e},e,l.a.createElement(j.a,{validate:[],name:"contacts."+e,type:"text",component:O.a}))}))))})),K=function(e){return e.profileInfo?l.a.createElement("div",null,l.a.createElement(R,e),l.a.createElement(J,null)):l.a.createElement(z.a,null)},V=a(30),Y=a(297),X=a(8),G=a(66);t.default=Object(X.d)(Object(r.b)((function(e){return{profileInfo:F(e),id:Object(G.a)(e),status:A(e),isOwner:x(e)}}),{getProfile:f.g,getProfileStatus:f.h,updateProfileStatus:f.k,updateProfileData:f.j,saveMainPhoto:f.i}),V.g,Y.a)((function(e){var t=e.match,a=e.id,r=e.getProfile,c=e.getProfileStatus,i=Object(n.a)(e,["match","id","getProfile","getProfileStatus"]);return Object(o.useEffect)((function(){r(t.params.userID||a),c(t.params.userID||a)}),[t,a,r,c]),l.a.createElement(K,i)}))}}]);
//# sourceMappingURL=3.db7eb1bd.chunk.js.map