{"version":3,"sources":["assets/images/user.png","HOC/WithAuthRedirect.js","components/Message/Message.module.css","components/Message/Message.js","components/Message/MessageContainer.js"],"names":["module","exports","withAuthRedirect","Component","connect","state","isAuthData","auth","props","to","Message","DialogsNames","dialogs","map","d","key","id","name","ava","DialogsMessages","messages","m","message","send","className","dialogsName","dialogsMessage","dialogsMessage_item","messageForm","ReduxMessageForm","onSubmit","dataForm","newMessage","sendMessage","document","getElementById","focus","DialogMessage","right","DialogItem","item","photo","style","background","photoUser","activeClassName","active","maxLength100","maxLengthCreator","reduxForm","form","handleSubmit","Field","autoFocus","validate","required","placeholder","cols","rows","onKeyPress","e","shiftKey","preventDefault","component","Textarea","type","MessageContainer","compose","MessagePage","newtextMessage"],"mappings":"+FAAAA,EAAOC,QAAU,IAA0B,kC,iCCA3C,sEAIaC,EAAmB,SAACC,GAS7B,OAAOC,aAJe,SAACC,GACnB,MAAO,CAACC,WAAYD,EAAME,KAAKD,cAG5BF,EARc,SAACI,GAClB,OAAKA,EAAMF,WACJ,kBAACH,EAAcK,GADQ,kBAAC,IAAD,CAAUC,GAAI,gB,oBCLpDT,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,eAAiB,gCAAgC,oBAAsB,qCAAqC,YAAc,6BAA6B,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,OAAS,wBAAwB,MAAQ,yB,mJCiChXS,EAzBC,SAACF,GACb,IAAIG,EAAeH,EAAMH,MAAMO,QAAQC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYC,IAAKD,EAAEE,GAAIA,GAAIF,EAAEE,GAAIC,KAAMH,EAAEG,KAAMC,IAAKJ,EAAEI,SAClGC,EAAkBX,EAAMH,MAAMe,SAASP,KAAI,SAAAQ,GAAC,OAAI,kBAAC,EAAD,CAAeN,IAAKM,EAAEL,GAAIM,QAASD,EAAEC,QAASC,KAAMF,EAAEE,UAU1G,OACI,yBAAKC,UAAWH,IAAET,SACd,yBAAKY,UAAW,SAAWH,IAAEI,aACxBd,GAEL,yBAAKa,UAAW,SAAWH,IAAEK,gBACzB,yBAAKF,UAAWH,IAAEM,qBAAsBR,IAG5C,yBAAKK,UAAWH,IAAEO,aAAa,kBAACC,EAAD,CAAkBC,SAjB1C,SAACC,GACZA,EAASC,YAAcxB,EAAMyB,YAAYF,EAASC,YAClDD,EAASC,WAAa,KAElBE,SAASC,eAAe,gBAAgBC,cAoB9CC,EAAgB,SAAC7B,GACnB,MAAmB,YAAfA,EAAMe,KAA2B,yBAAKC,UAAWH,IAAEC,SAAS,8BAAOd,EAAMc,UAC1D,SAAfd,EAAMe,KAAwB,yBAAKC,UAAS,UAAKH,IAAEC,QAAP,cAAoBD,IAAEiB,QAAS,8BAAO9B,EAAMc,eAA5F,GAGEiB,EAAa,SAAC/B,GAChB,OACI,yBAAKgB,UAAWH,IAAEmB,MACd,yBAAKhB,UAAWH,IAAEoB,MAAOC,MAAO,CAACC,WAAW,OAAD,OAASnC,EAAMU,KAAO0B,IAAtB,iCAC3C,kBAAC,IAAD,CAASnC,GAAI,YAAcD,EAAMQ,GAAI6B,gBAAiBxB,IAAEyB,QAAStC,EAAMS,QAO/E8B,EAAeC,YAAiB,KA0B9BnB,EAAmBoB,YAAU,CAACC,KAAM,WAAjBD,EAtBL,SAACzC,GACjB,OAAO,0BAAOsB,SAAUtB,EAAM2C,cAC1B,kBAACC,EAAA,EAAD,CACIpC,GAAI,eACJqC,WAAW,EACXC,SAAU,CAACC,IAAUR,GACrB9B,KAAM,aACNuC,YAAY,wBACZC,KAAK,KACLC,KAAK,IACLC,WAAY,SAAAC,GACM,UAAVA,EAAE7C,MAAiC,IAAf6C,EAAEC,WACtBD,EAAEE,iBACFtD,EAAM2C,iBAEdY,UAAWC,MACf,6BACI,4BAAQC,KAAK,UAAb,a,wBC7DNC,EAAmBC,YACrB/D,aARkB,SAACC,GACnB,MAAO,CACHA,MAAOA,EAAM+D,YACbC,eAAgBhE,EAAM+D,YAAYC,kBAKb,CAACpC,kBAC1B/B,IAFqBiE,CAGvBzD,GAEawD","file":"static/js/5.3a8d1c15.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.36daa457.png\";","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const newComponent = (props) => {\r\n        if (!props.isAuthData) return <Redirect to={'/login'}/>\r\n        return <Component {...props}/>\r\n    }\r\n    let mapStateToProps = (state) => {\r\n        return {isAuthData: state.auth.isAuthData}\r\n    }\r\n\r\n    return connect(mapStateToProps) (newComponent)\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__2OqUn\",\"dialogsName\":\"Message_dialogsName__pK0gd\",\"dialogsMessage\":\"Message_dialogsMessage__TsjrE\",\"dialogsMessage_item\":\"Message_dialogsMessage_item__2o_V0\",\"messageForm\":\"Message_messageForm__1kip-\",\"message\":\"Message_message__1SKSP\",\"right\":\"Message_right__2LpkG\",\"item\":\"Message_item__2Va_Z\",\"active\":\"Message_active__2RNSp\",\"photo\":\"Message_photo__ZFwtE\"};","import React from 'react';\r\nimport m from './Message.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControl/FormsControl\";\r\nimport {maxLengthCreator, required} from \"../../utilits/Validators/Validators\";\r\nimport photoUser from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Message = (props) => {\r\n    let DialogsNames = props.state.dialogs.map(d => <DialogItem key={d.id} id={d.id} name={d.name} ava={d.ava}/>)\r\n    let DialogsMessages = props.state.messages.map(m => <DialogMessage key={m.id} message={m.message} send={m.send}/>)\r\n\r\n    let onSubmit = (dataForm) => {\r\n        dataForm.newMessage && props.sendMessage(dataForm.newMessage)\r\n        dataForm.newMessage = null\r\n        let setFocus = () => {\r\n            document.getElementById('messageField').focus();\r\n        }\r\n        setFocus()\r\n    }\r\n    return (\r\n        <div className={m.dialogs}>\r\n            <div className={'block ' + m.dialogsName}>\r\n                {DialogsNames}\r\n            </div>\r\n            <div className={'block ' + m.dialogsMessage}>\r\n                <div className={m.dialogsMessage_item}>{DialogsMessages}</div>\r\n\r\n            </div>\r\n            <div className={m.messageForm}><ReduxMessageForm onSubmit={onSubmit}/></div>\r\n        </div>\r\n    )\r\n}\r\nexport default Message\r\n\r\n\r\nconst DialogMessage = (props) => {\r\n    if (props.send === 'receive') return <div className={m.message}><span>{props.message}</span></div>\r\n    if (props.send === 'send') return <div className={`${m.message} + ${m.right}`}><span>{props.message}</span></div>\r\n}\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={m.item}>\r\n            <div className={m.photo} style={{background: `url(${props.ava || photoUser}) 50% 50% no-repeat /cover`}}/>\r\n            <NavLink to={'/message/' + props.id} activeClassName={m.active}>{props.name}</NavLink>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\n\r\n\r\n\r\nconst MessageForm = (props) => {\r\n    return <form  onSubmit={props.handleSubmit}>\r\n        <Field\r\n            id={'messageField'}\r\n            autoFocus={true}\r\n            validate={[required, maxLength100]}\r\n            name={'newMessage'}\r\n            placeholder='Enter your message...'\r\n            cols=\"30\"\r\n            rows=\"3\"\r\n            onKeyPress={e => {\r\n                if (e.key === 'Enter'&& e.shiftKey === false) {\r\n                    e.preventDefault()\r\n                    props.handleSubmit()\r\n                }}}\r\n            component={Textarea}/>\r\n        <div>\r\n            <button type=\"submit\">Send</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ReduxMessageForm = reduxForm({form: 'message'})(MessageForm)","import {sendMessage} from \"../../Redux/reducerMessage\";\r\nimport Message from \"./Message\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../HOC/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        state: state.MessagePage,\r\n        newtextMessage: state.MessagePage.newtextMessage\r\n    }\r\n}\r\n\r\nconst MessageContainer = compose(\r\n    connect(mapStateToProps, {sendMessage}),\r\n    withAuthRedirect\r\n)(Message)\r\n\r\nexport default MessageContainer"],"sourceRoot":""}