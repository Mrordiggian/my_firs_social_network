(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[3],{295:function(e,t,a){e.exports=a.p+"static/media/user.36daa457.png"},296:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),r=a(12),l=a(29),c=(a(49),function(e){return Object(r.b)((function(e){return{isAuthData:e.auth.isAuthData}}))((function(t){return t.isAuthData?o.a.createElement(e,t):o.a.createElement(l.a,{to:"/login"})}))})},297:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,o=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(i){o=!0,r=i}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",(function(){return n}))},298:function(e,t,a){e.exports={wapper:"Profile_wapper__3hLyB"}},299:function(e,t,a){e.exports={wapper:"MyPost_wapper__KhOUe",postForm:"MyPost_postForm__3QL-Q",newPost:"MyPost_newPost__KsTMw"}},301:function(e,t,a){e.exports={post:"Post_post__1mla9",header:"Post_header__35SvX",body:"Post_body__3ikh7",name:"Post_name__1kx6U",bottom:"Post_bottom__20ozi"}},302:function(e,t,a){e.exports={info:"ProfileInfo_info__3TQ08",photo:"ProfileInfo_photo__vu84q",about_element:"ProfileInfo_about_element__RwM7S",ava:"ProfileInfo_ava__UQWQ7",status:"ProfileInfo_status__2HdzN",about:"ProfileInfo_about__gdq7h",faEdit:"ProfileInfo_faEdit__2RgFI"}},307:function(e,t,a){"use strict";a.r(t);var n=a(52),o=a(53),r=a(64),l=a(54),c=a(65),i=a(0),u=a.n(i),s=(a(298),a(12)),m=a(299),f=a.n(m),p=a(96),d=a(35),b=a(297),E=a(301),v=a.n(E),h=a(23),_=a(51),P=a(295),g=a.n(P),y=function(e){return u.a.createElement("div",{className:v.a.post+" block"},u.a.createElement("div",{className:v.a.header},u.a.createElement("img",{src:e.profileInfo.photos.small||g.a}),u.a.createElement("div",{className:v.a.name},e.profileInfo.fullName)),u.a.createElement("div",{className:v.a.body},e.message),u.a.createElement("div",{className:v.a.bottom},u.a.createElement("span",null,u.a.createElement(_.a,{icon:h.g,size:"lg"})," ",e.likecounts)))},k=a(129),j=a(130),O=a(67),I=a(55),w=Object(O.a)(100),N=u.a.memo((function(e){var t=Object(i.useState)(!1),a=Object(b.a)(t,2),n=a[0],o=a[1],r=Object(d.a)(e.state.posts).reverse().map((function(t){return u.a.createElement(y,{key:t.id,message:t.message,likecounts:t.likecounts,profileInfo:e.state.profileInfo})}));return u.a.createElement("div",null,u.a.createElement("div",{className:f.a.postForm+" block"},!n&&u.a.createElement(S,{setEditMode:o}),n&&u.a.createElement(D,{setEditMode:o,onSubmit:function(t){e.addPost(t.newPost),o(!1)}})),r)})),S=function(e){var t=e.setEditMode;return u.a.createElement("div",{className:f.a.newPost},u.a.createElement("span",{onClick:function(){t(!0)}},"What`s new?"))},D=Object(j.a)({form:"addNewPost"})((function(e){var t=e.setEditMode,a=e.handleSubmit;return u.a.createElement("form",{onSubmit:a,onBlur:function(){return t(!1)}},u.a.createElement(k.a,{autoFocus:!0,name:"newPost",validate:[O.b,w],placeholder:"Enter your message...",component:I.b}),u.a.createElement("div",null,u.a.createElement("button",null,"Post")))})),A=Object(s.b)((function(e){return{state:e.ProfilePage}}),{addPost:p.a})(N),M=a(302),F=a.n(M),x=function(e){var t=Object(i.useState)(!1),a=Object(b.a)(t,2),n=a[0],o=a[1],r=Object(i.useState)(e.status),l=Object(b.a)(r,2),c=l[0],s=l[1];return Object(i.useEffect)((function(){s(e.status)}),[e.status]),u.a.createElement("div",null,!n&&u.a.createElement("div",null,u.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"Set status")),n&&u.a.createElement("div",null,u.a.createElement("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateProfileStatus(c)},value:c,onChange:function(e){s(e.currentTarget.value)}})))},J=function(e){var t=e.profileInfo,a=e.isOwner,n=e.status,o=e.updateProfileStatus,r=e.updateProfileData,l=Object(i.useState)(!1),c=Object(b.a)(l,2),s=c[0],m=c[1];return u.a.createElement("div",{className:F.a.info},u.a.createElement("div",{className:F.a.ava+" block"},u.a.createElement("div",{className:F.a.photo,style:{background:"url(".concat(t.photos.large||g.a,") 50% 50% no-repeat /cover")}}),a&&u.a.createElement("input",{type:"file"})),u.a.createElement("div",{className:"block"},u.a.createElement("h3",null,t.fullName),u.a.createElement("div",{className:F.a.status},a&&u.a.createElement(x,{status:n,updateProfileStatus:o}),!a&&u.a.createElement("div",null,n)),a&&!s&&u.a.createElement("div",{className:F.a.faEdit,onClick:function(){m(!0)}},u.a.createElement(_.a,{icon:h.f,size:"lg"})),!s&&u.a.createElement(Q,{profileInfo:t}),s&&u.a.createElement(z,{setEditMode:m,initialValues:t,onSubmit:function(e){r(e),m(!1)},profileInfo:t})))},C=function(e){var t=e.title,a=e.value;return u.a.createElement("div",{className:F.a.about_element},u.a.createElement("b",null,t,": "),u.a.createElement("a",{href:a,target:"_blank"},a," "))},Q=function(e){var t=e.profileInfo;return u.a.createElement("div",{className:F.a.about},u.a.createElement("div",{className:F.a.about_element},u.a.createElement("b",null,"About me: "),u.a.createElement("span",null,t.aboutMe)),u.a.createElement("div",{className:F.a.about_element},u.a.createElement("b",null,"Looking for a job: "),u.a.createElement("span",null,t.lookingForAJob?"yes":"no")),t.lookingForAJob&&u.a.createElement("div",{className:F.a.about_element},u.a.createElement("b",null,"Description a job: "),u.a.createElement("span",null,t.lookingForAJobDescription)),u.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return t.contacts[e]&&u.a.createElement(C,{key:e,title:e,value:t.contacts[e]})}))))},z=Object(j.a)({form:"profileData"})((function(e){var t=e.profileInfo,a=e.handleSubmit,n=e.setEditMode;return u.a.createElement("form",{onSubmit:a},u.a.createElement("button",null,"Save"),u.a.createElement("button",{onClick:function(){return n(!1)}},"Exit"),u.a.createElement(k.a,{validate:[],name:"fullName",type:"text",placeholder:"Full name",component:I.a}),u.a.createElement("div",null,u.a.createElement("b",null,"About me: ")),u.a.createElement(k.a,{validate:[],name:"aboutMe",type:"text",placeholder:"About me",component:I.b}),u.a.createElement("div",null,u.a.createElement("b",null,"Looking for a job: ")),u.a.createElement("label",null,u.a.createElement(k.a,{name:"lookingForAJob",type:"radio",value:"true",component:"input",checked:!0}),"Yes"),u.a.createElement("label",null,u.a.createElement(k.a,{name:"lookingForAJob",type:"radio",value:"false",component:"input"}),"No"),u.a.createElement("div",null,u.a.createElement("b",null,"Description a job: ")),u.a.createElement(k.a,{validate:[],name:"lookingForAJobDescription",type:"text",placeholder:"Description a job",component:I.b}),u.a.createElement("div",null,u.a.createElement("b",null,"Contacts: "),Object.keys(t.contacts).map((function(e){return u.a.createElement("div",null,e,u.a.createElement(k.a,{validate:[],name:"contacts."+e,type:"text",placeholder:e,component:I.a}))}))))})),L=a(49),T=function(e){return e.profileInfo?u.a.createElement("div",null,u.a.createElement(J,e),u.a.createElement(A,null)):u.a.createElement(L.a,null)},U=a(29),B=a(296),q=a(8),K=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.userID&&(this.props.getProfile(this.props.match.params.userID),this.props.getProfileStatus(this.props.match.params.userID))}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userID!==this.props.match.params.userID&&(this.props.getProfile(this.props.match.params.userID),this.props.getProfileStatus(this.props.match.params.userID))}},{key:"render",value:function(){return u.a.createElement(T,this.props)}}]),t}(u.a.Component);t.default=Object(q.d)(Object(s.b)((function(e){return{profileInfo:e.ProfilePage.profileInfo,id:e.auth.id,status:e.ProfilePage.status,isOwner:e.ProfilePage.isOwner}}),{getProfile:p.c,getProfileStatus:p.d,updateProfileStatus:p.f,updateProfileData:p.e}),U.f,B.a)(K)}}]);
//# sourceMappingURL=3.1b4a6caa.chunk.js.map